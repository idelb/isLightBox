!function(e){e.fn.isLightBox=function(t){var i={revealSpeed:400,background:"rgba(0,0,0,.8)",overlayClose:!0,escKey:!0},s=e.extend({},i,t);e.isLightBox.init(e(this),s)};var t={isLightBox:{init:function(t,i){var s=this;t.on("click",function(n){n.preventDefault(),s.events.callInit(t);var o=e(this).attr("href");s.createIsLightBox(o,i,t)})},events:{triggerEvent:function(t,i){i=void 0===i?e(document):i,i.trigger("islb:"+t)},callInit:function(e){t.isLightBox.events.triggerEvent("init",e)},callOpen:{triggerEvent:function(e,i){t.isLightBox.events.triggerEvent("open:"+e,i)},before:function(e){this.triggerEvent("before",e)},after:function(e){this.triggerEvent("after",e)}},callClose:{triggerEvent:function(e,i){t.isLightBox.events.triggerEvent("close:"+e,i)},before:function(e){this.triggerEvent("before",e)},after:function(e){this.triggerEvent("after",e)}}},setStyles:function(t){var i='<style type="text/css" id="islb-styles">.islb {background-color: '+t.background+"; transition: opacity "+t.revealSpeed/1e3+"s ease-in-out;} .islb.islb-active {transition: opacity "+t.revealSpeed/1e3+"s ease-in-out;}</style>";e("head").find("#islb-styles").remove(),e("head").append(i)},createIsLightBox:function(t,i,s){var n=this;n.setStyles(i);var o=e("<div>",{class:"islb"}),l=e("<div>",{class:"islb-close"}),r=e("<div>",{class:"islb-next"}),a=e("<div>",{class:"islb-prev"}),c=e("<div>",{class:"islb-container"}),g=e("<div>",{class:"islb-media-container"}),v=e("<div>",{class:"islb-media"});o.html([l,r,a]).append(c.html(g.html(v.html(this.getElement.init(t))))),e("body").append(o),n.events.callOpen.before(s),setTimeout(function(){o.addClass("islb-active"),n.events.callOpen.after(s)},100),i.overlayClose?o.on("click",function(t){0!=e(t.target).closest(".islb-media").length&&!e(t.target).hasClass("islb-media")||e(t.target).hasClass("islb-next")||e(t.target).hasClass("islb-prev")||n.destroyIsLightBox(i,s)}):l.on("click",function(e){n.destroyIsLightBox(i,s)}),i.escKey&&e(document).on("keyup",function(e){27==e.keyCode&&n.destroyIsLightBox(i,s)})},destroyIsLightBox:function(t,i){var s=this;s.events.callClose.before(i),e(".islb").removeClass("islb-active"),e(document).off("keyup"),setTimeout(function(){e(".islb").remove(),s.events.callClose.after(i)},t.revealSpeed+100)},getElement:{init:function(e){return this.getImage(e)},getImage:function(t){return e("<img>",{src:t})}}}};e.extend(t)}(jQuery),$(function(){$("[data-islightbox]").isLightBox()});